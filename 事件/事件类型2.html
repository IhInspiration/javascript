<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Related Elements Example</title>
</head>
<body>
    <div id="myDiv" style="background-color: red; height: 100px;width: 100px;"></div>
    <textarea id="codeText"></textarea>
    <script src="EventUtil.js"></script>
    <script>
        var div = document.getElementById("myDiv");
        EventUtil.addHandler(div, "mouseout", function(event){
            event = EventUtil.getEvent(event);
            var target = EventUtil.getTarget(event);
            var relatedTarget = EventUtil.getRelatedTarget(event);
            console.log("Moused out of " + target.tagName + " to " + relatedTarget.tagName);
        });

        EventUtil.addHandler(div, "mousedown", function(event){
            event = EventUtil.getEvent(event);
            console.log(EventUtil.getButton(event));
        });

        var textbox = document.getElementById("codeText");
        EventUtil.addHandler(textbox, "keypress", function(event){
            event = EventUtil.getEvent(event);
            console.log(EventUtil.getCharCode(event));
        });

        EventUtil.addHandler(textbox, "textInput", function(event){
            event = EventUtil.getEvent(event);
            console.log(event.data);
        });

        //复合事件，获取IME(输入法)输入
        var isSuppoertedCompositionEvent = document.implementation.hasFeature("CompositionEvent", "3.0");
        console.log(isSuppoertedCompositionEvent);

        EventUtil.addHandler(textbox, "compositionstart", function(event){
            event = EventUtil.getEvent(event);
            console.log(event.data)
        });

        EventUtil.addHandler(textbox, "compositionupdate", function(event){
            event = EventUtil.getEvent(event);
            console.log(event.data)
        });

        EventUtil.addHandler(textbox, "compositionupend", function(event){
            event = EventUtil.getEvent(event);
            console.log(event.data)
        });

    </script>
</body>
</html>